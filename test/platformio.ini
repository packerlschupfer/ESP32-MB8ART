; PlatformIO configuration for MB8ART unit tests

[env:native]
platform = native
test_framework = unity
build_flags = 
    -std=c++11
    -D UNIT_TEST
    -D MB8ART_LOG_LEVEL=0  ; Disable logging during tests
    -I ../src
    -I ../logger_submodule/src
    
lib_deps =
    ; Add any required test dependencies
    
; Ignore hardware-specific libraries during native tests
lib_ignore =
    freertos
    esp32ModbusRTU
    
[env:esp32]
platform = espressif32
board = esp32dev
framework = arduino
test_framework = unity
build_flags =
    -D UNIT_TEST
    -D MB8ART_LOG_LEVEL=1  ; Minimal logging
    -I ../src
    
lib_deps =
    ; Production dependencies for hardware tests
    esp32ModbusRTU
    
upload_speed = 921600
monitor_speed = 115200
monitor_filters = esp32_exception_decoder